<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>OAuth2 회원가입 추가정보 입력</title>
</head>
<body>
<h2>OAuth2 회원가입 추가정보 입력</h2>
<form th:action="@{/auth/signup/oauth2}" method="POST">
    <input type="hidden" name="tempJwt" th:value="${tempJwt}">
    <div>
        <label for="name">이름:</label>
        <input type="text" id="name" name="name" th:value="${name}" required>
    </div>
    <div>
        <label for="email">이메일:</label>
        <input type="email" id="email" name="email" th:value="${email}" required>
    </div>
    <div>
        <label for="mobile1">휴대폰:</label>
        <input type="tel" id="mobile1" name="mobile1" th:value="${mobile1}" maxlength="3" size="3" pattern="\d{3}" required>
        -
        <input type="tel" id="mobile2" name="mobile2" th:value="${mobile2}" maxlength="4" size="4" pattern="\d{4}" required>
        -
        <input type="tel" id="mobile3" name="mobile3" th:value="${mobile3}" maxlength="4" size="4" pattern="\d{4}" required>
        <input type="hidden" id="mobile" name="mobile">
    </div>
    <div>
        <label for="birth">생년월일:</label>
        <input type="date" id="birth" name="birth" required>
    </div>
    <button type="submit">회원가입 완료</button>
</form>

<script>
    document.querySelector('form').addEventListener('submit', function(e) {
        var m1 = document.getElementById('mobile1').value;
        var m2 = document.getElementById('mobile2').value;
        var m3 = document.getElementById('mobile3').value;
        document.getElementById('mobile').value = m1 + '-' + m2 + '-' + m3;
    });
</script>
</body>
</html>
